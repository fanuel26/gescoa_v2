{"version":3,"sources":["webpack:///./src/views/auth/Sign-In.vue?87ca","webpack:///src/views/auth/Sign-In.vue","webpack:///./src/views/auth/Sign-In.vue?24a8","webpack:///./src/views/auth/Sign-In.vue","webpack:///./src/views/auth/Sign-In.vue?f82b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","_v","form","on","LoginSubmit","directives","name","rawName","value","rules","required","message","expression","staticRenderFns","data","callback","beforeCreate","methods","ShowAlert","description","e","console","response","session","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAUC,YAAY,CAAC,OAAS,SAAS,CAACH,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,OAAO,OAAS,GAAG,QAAU,eAAe,MAAQ,WAAW,CAACJ,EAAG,MAAM,CAACG,YAAY,CAAC,MAAQ,QAAQ,QAAU,OAAO,kBAAkB,WAAW,CAACH,EAAG,QAAQ,CAACE,YAAY,gBAAgBE,MAAM,CAAC,KAAO,GAAG,GAAK,GAAG,GAAK,EAAE,GAAK,IAAI,CAACJ,EAAG,SAAS,CAACA,EAAG,KAAK,CAACE,YAAY,uCAAuC,CAACN,EAAIS,GAAG,aAAaL,EAAG,KAAK,CAACE,YAAY,uCAAuC,CAACN,EAAIS,GAAG,0EAA0EL,EAAG,SAAS,CAACE,YAAY,kBAAkBE,MAAM,CAAC,GAAK,oCAAoC,KAAOR,EAAIU,KAAK,kBAAmB,GAAMC,GAAG,CAAC,OAASX,EAAIY,cAAc,CAACR,EAAG,cAAc,CAACE,YAAY,QAAQE,MAAM,CAAC,MAAQ,sBAAsB,OAAQ,IAAQ,CAACJ,EAAG,UAAU,CAACS,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CACp8B,YACA,CACEC,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,6CAC1BC,WAAW,wPAAwPZ,MAAM,CAAC,KAAO,SAAS,YAAc,0BAA0B,GAAGJ,EAAG,cAAc,CAACE,YAAY,OAAOE,MAAM,CAAC,MAAQ,eAAe,OAAQ,IAAQ,CAACJ,EAAG,UAAU,CAACS,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CACte,WACA,CACEC,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,kCAEVC,WAAW,sTAAsTZ,MAAM,CAAC,KAAO,WAAW,YAAc,mBAAmB,GAAGJ,EAAG,cAAc,CAACA,EAAG,WAAW,CAACE,YAAY,oBAAoBE,MAAM,CAAC,KAAO,UAAU,MAAQ,GAAG,YAAY,WAAW,CAACR,EAAIS,GAAG,kBAAkB,IAAI,IAAI,IAAI,IAAI,MAAM,IAC5jBY,EAAkB,GCgEP,GACfC,OACA,OAEAC,0CAGAC,eACA,sCAAAV,uBAEAW,SACAC,iBACA,uBACAP,UACAQ,iBAIAf,eACAgB,mBACA,iCAEA,GADAC,eACA,EA8BA,eACA,UACA,SACA,uCAjCA,CACA,uDACA,4DACAC,IACA,mBAEAD,eACA,oBACAE,UACA,QACA,kCAEAA,0CACAA,wFACAA,2DACAA,8DACAA,8CAEA,mBAAAjB,oBAEA,iDAGAgB,IACA,GACA,qEC7HgW,I,wBCQ5VE,EAAY,eACd,EACAjC,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAW,E,2CCnBf,W","file":"js/chunk-65f9df72.9db6a7dc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-in\",staticStyle:{\"height\":\"75vh\"}},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":24,\"justify\":\"space-around\",\"align\":\"center\"}},[_c('div',{staticStyle:{\"width\":\"100vw\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('a-col',{staticClass:\"col-form mt-4\",attrs:{\"span\":24,\"md\":12,\"lg\":6,\"xl\":6}},[_c('a-card',[_c('h3',{staticClass:\"mb-15 text-center text-primary mt-4\"},[_vm._v(\"DSHFOOD\")]),_c('h5',{staticClass:\"font-regular text-center text-muted\"},[_vm._v(\" Entrez le numero de téléphone et le mot de passe pour se connecter \")]),_c('a-form',{staticClass:\"login-form mt-4\",attrs:{\"id\":\"components-form-demo-normal-login\",\"form\":_vm.form,\"hideRequiredMark\":true},on:{\"submit\":_vm.LoginSubmit}},[_c('a-form-item',{staticClass:\"mb-10\",attrs:{\"label\":\"Numero de téléphone\",\"colon\":false}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                  'telephone',\n                  {\n                    rules: [\n                      { required: true, message: 'Please input your numero de téléphone!' } ],\n                  } ]),expression:\"[\\n                  'telephone',\\n                  {\\n                    rules: [\\n                      { required: true, message: 'Please input your numero de téléphone!' },\\n                    ],\\n                  },\\n                ]\"}],attrs:{\"type\":\"number\",\"placeholder\":\"Numero de téléphone\"}})],1),_c('a-form-item',{staticClass:\"mb-5\",attrs:{\"label\":\"Mot de passe\",\"colon\":false}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                  'password',\n                  {\n                    rules: [\n                      {\n                        required: true,\n                        message: 'Please input your password!',\n                      } ],\n                  } ]),expression:\"[\\n                  'password',\\n                  {\\n                    rules: [\\n                      {\\n                        required: true,\\n                        message: 'Please input your password!',\\n                      },\\n                    ],\\n                  },\\n                ]\"}],attrs:{\"type\":\"password\",\"placeholder\":\"Mot de passe\"}})],1),_c('a-form-item',[_c('a-button',{staticClass:\"login-form-button\",attrs:{\"type\":\"primary\",\"block\":\"\",\"html-type\":\"submit\"}},[_vm._v(\" CONNEXION \")])],1)],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- \r\n\tThis is the sign in page, it uses the dashboard layout in: \r\n\t\"./layouts/Default.vue\" .\r\n -->\r\n\r\n<template >\r\n  <div class=\"sign-in\" style=\"height: 75vh\">\r\n    <a-row type=\"flex\" :gutter=\"24\" justify=\"space-around\" align=\"center\">\r\n      <!-- Sign In Form Column -->\r\n      <div style=\"width: 100vw; display: flex; justify-content: center\">\r\n        <a-col :span=\"24\" :md=\"12\" :lg=\"6\" :xl=\"6\" class=\"col-form mt-4\">\r\n          <a-card>\r\n            <h3 class=\"mb-15 text-center text-primary mt-4\">DSHFOOD</h3>\r\n            <h5 class=\"font-regular text-center text-muted\">\r\n              Entrez le numero de téléphone et le mot de passe pour se connecter\r\n            </h5>\r\n\r\n            <!-- Sign In Form -->\r\n            <a-form\r\n              id=\"components-form-demo-normal-login\"\r\n              :form=\"form\"\r\n              class=\"login-form mt-4\"\r\n              @submit=\"LoginSubmit\"\r\n              :hideRequiredMark=\"true\"\r\n            >\r\n              <a-form-item class=\"mb-10\" label=\"Numero de téléphone\" :colon=\"false\">\r\n                <a-input\r\n                  v-decorator=\"[\r\n                    'telephone',\r\n                    {\r\n                      rules: [\r\n                        { required: true, message: 'Please input your numero de téléphone!' },\r\n                      ],\r\n                    },\r\n                  ]\"\r\n                  type=\"number\"\r\n                  placeholder=\"Numero de téléphone\"\r\n                />\r\n              </a-form-item>\r\n              <a-form-item class=\"mb-5\" label=\"Mot de passe\" :colon=\"false\">\r\n                <a-input\r\n                  v-decorator=\"[\r\n                    'password',\r\n                    {\r\n                      rules: [\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your password!',\r\n                        },\r\n                      ],\r\n                    },\r\n                  ]\"\r\n                  type=\"password\"\r\n                  placeholder=\"Mot de passe\"\r\n                />\r\n              </a-form-item>\r\n              <a-form-item>\r\n                <a-button\r\n                  type=\"primary\"\r\n                  block\r\n                  html-type=\"submit\"\r\n                  class=\"login-form-button\"\r\n                >\r\n                  CONNEXION\r\n                </a-button>\r\n              </a-form-item>\r\n            </a-form>\r\n          </a-card>\r\n          <!-- / Sign In Form -->\r\n        </a-col>\r\n      </div>\r\n\r\n      <!-- Sign In Image Column -->\r\n    </a-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      \r\n      callback: process.env.VUE_APP_API_BASE_URL,\r\n    };\r\n  },\r\n  beforeCreate() {\r\n    this.form = this.$form.createForm(this, { name: \"normal_login\" });\r\n  },\r\n  methods: {\r\n    ShowAlert(type, title, description) {\r\n      this.$notification[type]({\r\n        message: title,\r\n        description: description,\r\n      });\r\n    },\r\n    // Handles input validation after submission.\r\n    LoginSubmit(e) {\r\n      e.preventDefault();\r\n      this.form.validateFields((err, values) => {\r\n        console.log(values)\r\n        if (!err) {\r\n          let headers = new Headers({'Access-Control-Allow-Origin': '*'});\r\n          this.$http.post(`${this.callback}/auth/admin/login`, values, headers).then(\r\n            (response) => {\r\n              let session = localStorage;\r\n\r\n              console.log(response);\r\n              if (response.body.status == 200) {\r\n                session.setItem(\r\n                  \"token\",\r\n                  `Bearer ${response.body.adminInfo.token}`\r\n                );\r\n                session.setItem(\"id\", response.body.adminInfo.admin.id);\r\n                session.setItem(\"username\", `${response.body.adminInfo.admin.nom} ${response.body.adminInfo.admin.prenoms}`);\r\n                session.setItem(\"code_secret\", response.body.adminInfo.admin.codeSecret);\r\n                session.setItem(\"infoAdmin\", JSON.stringify(response.body.adminInfo.admin) );\r\n                session.setItem(\"menu\", response.body.adminInfo.admin.menu);\r\n\r\n                this.$router.push({ name: \"Dashboard\" });\r\n              } else {\r\n                this.ShowAlert(\"error\", \"Erreur\", response.body.message);\r\n              }\r\n            },\r\n            (response) => {\r\n              if (response) {\r\n                this.ShowAlert(\"error\", \"Erreur\", \"Erreur lors de la requete\");\r\n              }\r\n            }\r\n          );\r\n        } else {\r\n          this.ShowAlert(\r\n            \"warning\",\r\n            \"Erreur\",\r\n            \"Veillez remplir tous les champs\"\r\n          );\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nbody {\r\n  background-color: #ffffff;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sign-In.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sign-In.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sign-In.vue?vue&type=template&id=0806639a&\"\nimport script from \"./Sign-In.vue?vue&type=script&lang=js&\"\nexport * from \"./Sign-In.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sign-In.vue?vue&type=style&index=0&id=0806639a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sign-In.vue?vue&type=style&index=0&id=0806639a&prod&lang=scss&\""],"sourceRoot":""}