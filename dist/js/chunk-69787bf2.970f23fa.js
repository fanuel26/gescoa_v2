(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69787bf2"],{3301:function(e,t,r){},bc22:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sign-in",staticStyle:{height:"75vh"}},[r("a-row",{attrs:{type:"flex",gutter:24,justify:"space-around",align:"center"}},[r("div",{staticStyle:{width:"100vw",display:"flex","justify-content":"center"}},[r("a-col",{staticClass:"col-form mt-4",attrs:{span:24,md:12,lg:6,xl:6}},[r("a-card",[r("h3",{staticClass:"mb-15 text-center text-primary mt-4"},[e._v("N2A")]),r("h5",{staticClass:"font-regular text-center text-muted"},[e._v(" Entrez le numero de téléphone et le mot de passe pour se connecter ")]),r("a-form",{staticClass:"login-form mt-4",attrs:{id:"components-form-demo-normal-login",form:e.form,hideRequiredMark:!0},on:{submit:e.LoginSubmit}},[r("a-form-item",{staticClass:"mb-10",attrs:{label:"Numero de téléphone",colon:!1}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telephone",{rules:[{required:!0,message:"Please input your numero de téléphone!"}]}],expression:"[\n                  'telephone',\n                  {\n                    rules: [\n                      { required: true, message: 'Please input your numero de téléphone!' },\n                    ],\n                  },\n                ]"}],attrs:{type:"number",placeholder:"Numero de téléphone"}})],1),r("a-form-item",{staticClass:"mb-5",attrs:{label:"Mot de passe",colon:!1}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"Please input your password!"}]}],expression:"[\n                  'password',\n                  {\n                    rules: [\n                      {\n                        required: true,\n                        message: 'Please input your password!',\n                      },\n                    ],\n                  },\n                ]"}],attrs:{type:"password",placeholder:"Mot de passe"}})],1),r("a-form-item",[r("a-button",{staticClass:"login-form-button",attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" CONNEXION ")])],1)],1)],1)],1)],1)])],1)},s=[],n={data(){return{callback:"https://n2a.gescapro.net"}},beforeCreate(){this.form=this.$form.createForm(this,{name:"normal_login"})},methods:{ShowAlert(e,t,r){this.$notification[e]({message:t,description:r})},LoginSubmit(e){e.preventDefault(),this.form.validateFields((e,t)=>{if(console.log(t),e)this.ShowAlert("warning","Erreur","Veillez remplir tous les champs");else{let e=new Headers({"Access-Control-Allow-Origin":"*"});this.$http.post(this.callback+"/auth/admin/login",t,e).then(e=>{let t=localStorage;console.log(e),200==e.body.status?(t.setItem("token","Bearer "+e.body.adminInfo.token),t.setItem("id",e.body.adminInfo.admin.id),t.setItem("username",`${e.body.adminInfo.admin.nom} ${e.body.adminInfo.admin.prenoms}`),t.setItem("code_secret",e.body.adminInfo.admin.codeSecret),t.setItem("infoAdmin",JSON.stringify(e.body.adminInfo.admin)),t.setItem("menu",e.body.adminInfo.admin.menu),this.$router.push({name:"Dashboard"})):this.ShowAlert("error","Erreur",e.body.message)},e=>{e&&this.ShowAlert("error","Erreur","Erreur lors de la requete")})}})}}},a=n,i=(r("dade"),r("2877")),l=Object(i["a"])(a,o,s,!1,null,null,null);t["default"]=l.exports},dade:function(e,t,r){"use strict";r("3301")}}]);
//# sourceMappingURL=chunk-69787bf2.970f23fa.js.map