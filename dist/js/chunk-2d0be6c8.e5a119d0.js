(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0be6c8"],{"2fca":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-row",{attrs:{gutter:24,type:"flex",align:"stretch"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24,xl:24}},[a("a-card",{staticClass:"header-solid h-full",attrs:{bordered:!1,bodyStyle:{paddingTop:"12px"}},scopedSlots:t._u([{key:"title",fn:function(){return[a("h6",[t._v("Livraison à "+t._s(t.val)+" mois")])]},proxy:!0}])},[a("div",{staticClass:"d-flex justify-content-end align-items-center"},[a("a-form",{staticClass:"login-form mx-4 d-flex",attrs:{id:"components-form-demo-normal-login",form:t.form,hideRequiredMark:!0},on:{submit:t.checkLivraison}},[a("a-form-item",{attrs:{label:"Selectionnez nombre de mois"}},[a("div",{staticClass:"d-flex"},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["nbr",{rules:[{required:!0,message:"Sélectionner nombre de mois"}]}],expression:"[\n                    'nbr',\n                    {\n                      rules: [\n                        {\n                          required: true,\n                          message: 'Sélectionner nombre de mois',\n                        },\n                      ],\n                    },\n                  ]"}],staticStyle:{width:"250px"}},[a("a-select-option",{attrs:{value:"1"}},[t._v(" 1 mois ")]),a("a-select-option",{attrs:{value:"2"}},[t._v(" 2 mois ")]),a("a-select-option",{attrs:{value:"3"}},[t._v(" 3 mois ")]),a("a-select-option",{attrs:{value:"4"}},[t._v(" 4 mois ")]),a("a-select-option",{attrs:{value:"5"}},[t._v(" 5 mois ")]),a("a-select-option",{attrs:{value:"6"}},[t._v(" 6 mois ")]),a("a-select-option",{attrs:{value:"7"}},[t._v(" 7 mois ")]),a("a-select-option",{attrs:{value:"8"}},[t._v(" 8 mois ")]),a("a-select-option",{attrs:{value:"9"}},[t._v(" 9 mois ")]),a("a-select-option",{attrs:{value:"10"}},[t._v(" 10 mois ")]),a("a-select-option",{attrs:{value:"11"}},[t._v(" 11 mois ")]),a("a-select-option",{attrs:{value:"12"}},[t._v(" 12 mois ")])],1),a("a-button",{staticClass:"mx-2",attrs:{htmlType:"submit",type:"primary"}},[t._v(" Checker ")])],1)])],1)],1),a("a-table",{attrs:{columns:t.columnsCarnet,"data-source":t.dataCarnets}})],1)],1)],1)],1)},o=[],i=a("2b8e"),r=a("40ce"),s=a("bf22"),l=a("d006"),c=a("9b08"),m=a("5e32"),d=a("f8ba"),u={components:{CardBarChart:i["a"],CardLineChart:r["a"],WidgetCounter:s["a"],CardProjectTable:l["a"],CardOrderHistory:c["a"],CardInfo:m["a"],CardInfo2:d["a"]},beforeCreate(){this.form=this.$form.createForm(this,{name:"normal_login"})},data(){return{callback:"https://n2a.gescapro.net",token_admin:null,columnsCarnet:null,dataCarnets:[],val:2}},mounted(){this.columnsCarnet=[{title:"Nom du carnet",dataIndex:"libelle",key:"libelle"},{title:"Nombre mois",dataIndex:"nbr_mois",key:"nbr_mois"},{title:"Prix par jour (Fcfa)",dataIndex:"prix_jour",key:"prix_jour"},{title:"Nombre de cotisation",dataIndex:"nbr_cot",key:"nbr_cot"},{title:"Nom client",dataIndex:"nom_client",key:"nom_client"},{title:"Numero client",dataIndex:"numero_client",key:"numero_client"}],this.statistique()},methods:{showAlert(t,e,a){this.$notification[t]({message:e,description:a})},statistique(){let t=localStorage;this.token_admin=t.getItem("token");let e={headers:{Authorization:this.token_admin}};this.$http.post(this.callback+"/carnet-clients",{},e).then(t=>{let e=t.body.data;this.dataCarnets=[];for(let a=0;a<e.length;a++)e[a].nbcotisattion>310&&this.dataCarnets.push({key:e[a].id,libelle:e[a].carnet.libelle,nbr_mois:e[a].carnet.period/31,prix_jour:e[a].carnet.tarif,nbr_cot:e[a].nbcotisattion,nom_client:`${e[a].client.nom} ${e[a].client.prenom}`,numero_client:e[a].client.numero})})},checkLivraison(t){t.preventDefault(),this.form.validateFields((t,e)=>{if(t)this.showAlert("error","Error","Veuillez selectionnez le mois");else{let t=localStorage;this.token_admin=t.getItem("token");let a={headers:{Authorization:this.token_admin}};this.val=parseInt(e.nbr),this.$http.post(this.callback+"/carnet-clients",{},a).then(t=>{let e=t.body.data;this.dataCarnets=[];for(let a=0;a<e.length;a++)e[a].nbcotisattion>372-31*this.val&&this.dataCarnets.push({key:e[a].id,libelle:e[a].carnet.libelle,nbr_mois:e[a].carnet.period/31,prix_jour:e[a].carnet.tarif,nbr_cot:e[a].nbcotisattion,nom_client:`${e[a].client.nom} ${e[a].client.prenom}`,numero_client:e[a].client.numero});console.log(this.dataCarnets)})}})}}},h=u,p=a("2877"),b=Object(p["a"])(h,n,o,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0be6c8.e5a119d0.js.map